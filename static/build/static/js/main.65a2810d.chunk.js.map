{"version":3,"sources":["index.js"],"names":["Thermometer","props","_this","Object","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","change_filling","bind","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","state","top","height","danger_rating","dr","stylez","setState","nextProps","nextState","nextContext","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","style","Component","Watchout","DataView","d","assault","murder","theft","robbery","other","SimpleMap","_this2","_onClick","_ref","x","y","lat","lng","event","getData","center","zoom","width","f","updateSizes","wrapper","window","addEventListener","clearTimeout","setTimeout","window_width","innerWidth","window_height","innerHeight","xhttp","_this3","req_url","base_url","XMLHttpRequest","onreadystatechange","readyState","status","resp","responseText","update","open","send","_this4","google_map_react__WEBPACK_IMPORTED_MODULE_8___default","bootstrapURLKeys","key","defaultCenter","defaultZoom","onClick","e","Container","_this5","update_dataview","crime_set","data","JSON","parse","crime_stats","calc_dangerrating","side_div","get_danger_rating","type","placeholder","ReactDOM","render","document","getElementById"],"mappings":"mOAMMA,qBAEL,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,eAAiBP,EAAKO,eAAeC,KAApBP,OAAAQ,EAAA,EAAAR,CAAAD,IACtBA,EAAKU,MAAQ,CACZC,IAAK,EACLC,OAAQ,EACRC,cAAe,GANCb,8EAUHc,GACd,IAEIC,EAAS,CACZJ,IAFmB,IADAG,EAGA,IACnBF,OAJmBE,EAIG,KAEvBX,KAAKa,SAAS,CACbL,IAAKI,EAAOJ,IACZC,OAAQG,EAAOH,OACfC,cAAeC,kDAKKG,EAAWC,EAAWC,GAC3C,OAAIhB,KAAKO,MAAMG,gBAAkBI,EAAUJ,gBAC1CV,KAAKI,eAAeU,EAAUJ,gBACvB,oCAOR,OACCO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAACZ,OAAUT,KAAKO,MAAME,OAAQD,IAAOR,KAAKO,MAAMC,KAAOY,UAAU,YAC7EH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAxCOE,cA8CpBC,mLAGJ,OAAON,EAAAC,EAAAC,cAAA,8BAHcG,aAOjBE,mLAGJ,OACCP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,qBAAanB,KAAKJ,MAAM6B,EAAEC,SAC1BT,EAAAC,EAAAC,cAAA,oBAAYnB,KAAKJ,MAAM6B,EAAEE,QACzBV,EAAAC,EAAAC,cAAA,mBAAWnB,KAAKJ,MAAM6B,EAAEG,QAEzBX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,qBAAanB,KAAKJ,MAAM6B,EAAEI,SAC1BZ,EAAAC,EAAAC,cAAA,mBAAWnB,KAAKJ,MAAM6B,EAAEK,gBAZNR,aAoBjBS,cAEL,SAAAA,EAAYnC,GAAM,IAAAoC,EAAA,OAAAlC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+B,IACjBC,EAAAlC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiC,GAAA5B,KAAAH,KAAMJ,KA8DJqC,SAAW,SAAAC,KAAEC,EAAFD,EAAKE,EAAL,IAAQC,EAARH,EAAQG,IAAKC,EAAbJ,EAAaI,IAAbJ,EAAkBK,MAAlB,OAA6BP,EAAKQ,QAAQH,EAAIC,IA7D3DN,EAAKzB,MAAQ,CACFkC,OAAQ,CACPJ,IAAK,UACLC,KAAM,YAERI,KAAM,GACfC,MAAO,EACPlC,OAAQ,EACRmC,EAAI,MAELZ,EAAKa,YAAcb,EAAKa,YAAYxC,KAAjBP,OAAAQ,EAAA,EAAAR,CAAAkC,IACnBA,EAAKc,QAAUd,EAAKc,QAAQzC,KAAbP,OAAAQ,EAAA,EAAAR,CAAAkC,IAbEA,mFAkBjBhC,KAAK8C,UACLC,OAAOC,iBAAiB,SAAUhD,KAAK8C,2CAMvCC,OAAOE,aAAajD,KAAK4C,GACzB5C,KAAK4C,EAAIG,OAAOG,WAAWlD,KAAK6C,YAAa,2CAI7C,IAEIF,EACAlC,EAHA0C,EAAeJ,OAAOK,WACtBC,EAAgBN,OAAOO,YAGvBH,EAAe,KAClBR,EAAQQ,EAAe,EACvB1C,EAAS4C,EAAgB,IAGzBV,EAAS,GAAQQ,EACjB1C,EAAS4C,EAAgB,GAG1BrD,KAAKa,SAAS,CAAC8B,MAAOA,EAAOlC,OAAQA,oCAG3B4B,EAAKC,GAAI,IAETiB,EAFSC,EAAAxD,KAKfyD,EAAUC,uCAAqBrB,EAAM,QAAUC,GAFnDiB,EAAQ,IAAII,gBAGNC,mBAAqB,WAC1B,GAAwB,IAArBL,EAAMM,YAAqC,MAAjBN,EAAMO,OAAgB,CAClD,IAAIC,EAAOR,EAAMS,aACjBR,EAAK5D,MAAMqE,OAAOF,KAGpBR,EAAMW,KAAK,MAAOT,GAAS,GAC3BF,EAAMY,wCASG,IAAAC,EAAApE,KAEP,OAEEiB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYC,MAAO,CAACZ,OAAUT,KAAKO,MAAME,OAAQkC,MAAS3C,KAAKO,MAAMoC,QAClF1B,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CACEoD,iBAAkB,CAAEC,IAAK,2CACzBC,cAAexE,KAAKO,MAAMkC,OAC1BgC,YAAazE,KAAKO,MAAMmC,KACxBgC,QAAS,SAACC,GAAD,OAAOP,EAAKnC,SAAS0C,IACpCvD,UAAU,2BAhFUE,aAwFlBsD,cAEL,SAAAA,EAAYhF,GAAO,IAAAiF,EAAA,OAAA/E,OAAAC,EAAA,EAAAD,CAAAE,KAAA4E,IAClBC,EAAA/E,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8E,GAAAzE,KAAAH,KAAMJ,KA4CPkF,gBAAkB,SAAAC,GACjB,IAAIC,EAAOC,KAAKC,MAAMH,GACtBF,EAAKhE,SAAS,CAACsE,YAAcH,IAC7BH,EAAKO,qBA9CLP,EAAKtE,MAAQ,CACZ4E,YAAa,CACZzD,QAAS,EACTC,OAAQ,EACRC,MAAO,EACPC,QAAS,EACTC,MAAO,GAERuD,SAAU,OAGXR,EAAKtE,MAAM4E,YAAc,CACxBzD,QAAS,EACTC,OAAQ,EACRC,MAAO,EACPC,QAAS,EACTC,MAAO,GAER+C,EAAKtE,MAAMG,cAAgB,EAC3BmE,EAAKC,gBAAkBD,EAAKC,gBAAgBzE,KAArBP,OAAAQ,EAAA,EAAAR,CAAA+E,IACvBA,EAAKS,kBAAoBT,EAAKS,kBAAkBjF,KAAvBP,OAAAQ,EAAA,EAAAR,CAAA+E,IAtBPA,mFA0BlB,OAAO7E,KAAKO,MAAMG,0DAKlB,IAAIA,EAAgB,EACpBA,GAAkD,GAAjCV,KAAKO,MAAM4E,YAAYzD,QACxChB,GAAiD,GAAhCV,KAAKO,MAAM4E,YAAYxD,OACxCjB,GAAgD,GAA/BV,KAAKO,MAAM4E,YAAYvD,MACxClB,GAAkD,GAAjCV,KAAKO,MAAM4E,YAAYtD,SACxCnB,GAAgD,GAA/BV,KAAKO,MAAM4E,YAAYrD,OAEpB,MACnBpB,EAAgB,KAEjBV,KAAKa,SAAS,CAACH,cAAeA,qCAW9B,OACCO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAWH,EAAAC,EAAAC,cAACI,EAAD,OAC1BN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACdH,EAAAC,EAAAC,cAACK,EAAD,CAAWC,EAAGzB,KAAKO,MAAM4E,eAE1BlE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAACxB,EAAD,CAAae,cAAeV,KAAKO,MAAMG,mBAI1CO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACdH,EAAAC,EAAAC,cAACY,EAAD,CAAWkC,OAAQjE,KAAK8E,kBACxB7D,EAAAC,EAAAC,cAAA,SAAOoE,KAAK,OAAOC,YAAY,oBAAoBpE,UAAU,uBArE1CE,aA4ExBmE,IAASC,OAAQzE,EAAAC,EAAAC,cAACyD,EAAD,MAAee,SAASC,eAAe","file":"static/js/main.65a2810d.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport './index.css';\n\nclass Thermometer extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.change_filling = this.change_filling.bind(this);\n\t\tthis.state = {\n\t\t\ttop: 0,\n\t\t\theight: 0,\n\t\t\tdanger_rating: 0\n\t\t}\n\t}\n\n\tchange_filling(dr){\n\t\tlet danger_rating = dr;\n\t\tlet height_offset = 100 - danger_rating;\n\t\tlet stylez = {\n\t\t\ttop: height_offset+\"%\",\n\t\t\theight: danger_rating+\"%\"\n\t\t};\n\t\tthis.setState({\n\t\t\ttop: stylez.top,\n\t\t\theight: stylez.height,\n\t\t\tdanger_rating: dr\n\t\t});\n\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\tif (this.state.danger_rating !== nextProps.danger_rating) {\n\t\t\tthis.change_filling(nextProps.danger_rating);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"thermometer\">\n\t\t\t\t<div style={{\"height\": this.state.height, \"top\": this.state.top }} className=\"filling\"/>\n\t\t\t\t<div className=\"thermobulb\" />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Watchout extends Component {\n\n\trender(){\n\t\treturn <h1>Watchout!</h1>\n\t}\n}\n\nclass DataView extends Component {\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"data_items\">\n\t\t\t\t<div className=\"left_items\">\n\t\t\t\t\t<p>Assault: {this.props.d.assault}</p>\n\t\t\t\t\t<p>Murder: {this.props.d.murder}</p>\n\t\t\t\t\t<p>Theft: {this.props.d.theft}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right_items\">\n\t\t\t\t\t<p>Robbery: {this.props.d.robbery}</p>\n\t\t\t\t\t<p>Other: {this.props.d.other}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nclass SimpleMap extends Component {\n\n\tconstructor(props){ \n\t\tsuper(props);\n\t\tthis.state = {\n             center: {\n              lat: 34.115784,\n              lng: -117.302399\n            },\n            zoom: 11,\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tf : null\n\t\t};\n\t\tthis.updateSizes = this.updateSizes.bind(this);\n\t\tthis.wrapper = this.wrapper.bind(this);\n\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.wrapper();\n\t\twindow.addEventListener(\"resize\", this.wrapper);\n\n\t}\n\n\n\twrapper(){\n\t\twindow.clearTimeout(this.f);\n\t\tthis.f = window.setTimeout(this.updateSizes, 200);\n\t}\n\n\tupdateSizes(){\n\t\tlet window_width = window.innerWidth;\n\t\tlet window_height = window.innerHeight;\n\t\tlet width;\n\t\tlet height;\n\t\tif (window_width > 480){\n\t\t\twidth = window_width / 2;\n\t\t\theight = window_height / 2;\n\t\t}\n\t\telse{\n\t\t\twidth = (9/10) * window_width;\n\t\t\theight = window_height / 2;\n\t\t}\n\n\t\tthis.setState({width: width, height: height});\n\t}\n\n    getData(lat, lng){\n\n        let xhttp;\n\t\txhttp = new XMLHttpRequest();\n        let base_url = \"https://www.ericdiaz.dev/single\";\n\t\tlet req_url = base_url + \"?lat=\" + lat + \"&lon=\" + lng;\n\t\txhttp.onreadystatechange = () => {\n\t\t\tif(xhttp.readyState === 4 && xhttp.status === 200) {\n\t\t\t\tlet resp = xhttp.responseText;\n\t\t\t\tthis.props.update(resp)\n\t\t\t}\n    \t};\n\t\txhttp.open(\"GET\", req_url, true);\n\t\txhttp.send();\n\n    }\n\n    _onClick = ({x, y, lat, lng, event}) => this.getData(lat,lng);\n\n\n\n\n  render() {\n  \t\n    return (\n      // Important! Always set the container height explicitly\n      <div className=\"react_map\" style={{\"height\": this.state.height, \"width\": this.state.width}}>\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: \"AIzaSyBqHAyz7qbZeKCF_aKujnK0SKff8Pb0s1A\" }}\n          defaultCenter={this.state.center}\n          defaultZoom={this.state.zoom}\n          onClick={(e) => this._onClick(e)}\n\t\t  className=\"maps_container\"\n\t\t>\n        </GoogleMapReact>\n      </div>\n    );\n  }\n}\n\nclass Container extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcrime_stats: {\n\t\t\t\tassault: 0,\n\t\t\t\tmurder: 0,\n\t\t\t\ttheft: 0,\n\t\t\t\trobbery: 0,\n\t\t\t\tother: 0\n\t\t\t},\n\t\t\tside_div: \"20%\"\n\t\t};\n\n\t\tthis.state.crime_stats = {\n\t\t\tassault: 0,\n\t\t\tmurder: 0,\n\t\t\ttheft: 0,\n\t\t\trobbery: 0,\n\t\t\tother: 0\n\t\t};\n\t\tthis.state.danger_rating = 0;\n\t\tthis.update_dataview = this.update_dataview.bind(this);\n\t\tthis.get_danger_rating = this.get_danger_rating.bind(this);\n\t}\n\n\tget_danger_rating(){\n\t\treturn this.state.danger_rating;\n\t}\n\n\tcalc_dangerrating(){\n\n\t\tlet danger_rating = 0;\n\t\tdanger_rating += this.state.crime_stats.assault * .8;\n\t\tdanger_rating += this.state.crime_stats.murder * 20;\n\t\tdanger_rating += this.state.crime_stats.theft * .5;\n\t\tdanger_rating += this.state.crime_stats.robbery * .7;\n\t\tdanger_rating += this.state.crime_stats.other * .2;\n\n\t\tif (danger_rating > 100){\n\t\t\tdanger_rating = 100;\n\t\t}\n\t\tthis.setState({danger_rating: danger_rating});\n\n\t}\n\n\tupdate_dataview = crime_set => {\n\t\tlet data = JSON.parse(crime_set);\n\t\tthis.setState({crime_stats : data});\n\t\tthis.calc_dangerrating();\n\t};\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"master_container\">\n\t\t\t\t<div className=\"watchout\"><Watchout /></div>\n\t\t\t\t<div className=\"that_div\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t\t<DataView  d={this.state.crime_stats} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"thermodiv\">\n\t\t\t\t\t\t\t<Thermometer danger_rating={this.state.danger_rating}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"maps_container\">\n\t\t\t\t\t<SimpleMap update={this.update_dataview} />\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter an address!\" className=\"input_box\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nReactDOM.render( <Container />, document.getElementById(\"root\"));\n"],"sourceRoot":""}