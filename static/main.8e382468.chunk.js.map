{"version":3,"sources":["index.js"],"names":["Thermometer","props","_this","Object","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","change_filling","bind","_home_paulina_Desktop_react_watchout_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","state","marginTop","height","danger_rating","stylez","setState","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","style","margin-top","Component","Watchout","DataView","d","assault","murder","theft","robbery","other","SimpleMap","_this2","_onClick","_ref","x","y","lat","lng","event","getData","center","zoom","width","f","updateSizes","wrapper","window","addEventListener","clearTimeout","setTimeout","window_width","innerWidth","window_height","innerHeight","console","log","xhttp","_this3","req_url","base_url","XMLHttpRequest","onreadystatechange","readyState","status","resp","responseText","update","open","send","_this4","google_map_react__WEBPACK_IMPORTED_MODULE_8___default","bootstrapURLKeys","key","defaultCenter","defaultZoom","onClick","e","onTouchStart","Container","_this5","update_dataview","crime_set","data","JSON","parse","crime_stats","calc_dangerrating","side_div","parseInt","type","placeholder","ReactDOM","render","document","getElementById"],"mappings":"mOAMMA,qBAEL,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,eAAiBP,EAAKO,eAAeC,KAApBP,OAAAQ,EAAA,EAAAR,CAAAD,IACtBA,EAAKU,MAAQ,CACZC,UAAW,EACXC,OAAQ,GALQZ,gFAUjB,IAAIa,EAAgBV,KAAKJ,MAAMc,cAE3BC,EAAS,CACZH,UAFmB,IAAME,EAGzBD,OAAQC,GAETV,KAAKY,SAASD,oCAId,OACCE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAACR,OAAUT,KAAKO,MAAME,OAAQS,aAAclB,KAAKO,MAAMC,WAAaQ,UAAU,oBAxBpEG,cA8BpBC,mLAGJ,OAAOP,EAAAC,EAAAC,cAAA,8BAHcI,aAOjBE,mLAGJ,OACCR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,qBAAaf,KAAKJ,MAAM0B,EAAEC,SAC1BV,EAAAC,EAAAC,cAAA,oBAAYf,KAAKJ,MAAM0B,EAAEE,QACzBX,EAAAC,EAAAC,cAAA,mBAAWf,KAAKJ,MAAM0B,EAAEG,QAEzBZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,qBAAaf,KAAKJ,MAAM0B,EAAEI,SAC1Bb,EAAAC,EAAAC,cAAA,mBAAWf,KAAKJ,MAAM0B,EAAEK,gBAZNR,aAoBjBS,cAEL,SAAAA,EAAYhC,GAAM,IAAAiC,EAAA,OAAA/B,OAAAC,EAAA,EAAAD,CAAAE,KAAA4B,IACjBC,EAAA/B,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8B,GAAAzB,KAAAH,KAAMJ,KA+DJkC,SAAW,SAAAC,KAAEC,EAAFD,EAAKE,EAAL,IAAQC,EAARH,EAAQG,IAAKC,EAAbJ,EAAaI,IAAbJ,EAAkBK,MAAlB,OAA6BP,EAAKQ,QAAQH,EAAIC,IA9D3DN,EAAKtB,MAAQ,CACF+B,OAAQ,CACPJ,IAAK,UACLC,KAAM,YAERI,KAAM,GACfC,MAAO,EACP/B,OAAQ,EACRgC,EAAI,MAELZ,EAAKa,YAAcb,EAAKa,YAAYrC,KAAjBP,OAAAQ,EAAA,EAAAR,CAAA+B,IACnBA,EAAKc,QAAUd,EAAKc,QAAQtC,KAAbP,OAAAQ,EAAA,EAAAR,CAAA+B,IAbEA,mFAkBjB7B,KAAK2C,UACLC,OAAOC,iBAAiB,SAAU7C,KAAK2C,2CAMvCC,OAAOE,aAAa9C,KAAKyC,GACzBzC,KAAKyC,EAAIG,OAAOG,WAAW/C,KAAK0C,YAAa,2CAI7C,IAEIF,EACA/B,EAHAuC,EAAeJ,OAAOK,WACtBC,EAAgBN,OAAOO,YAGvBH,EAAe,KAClBR,EAAQQ,EAAe,EACvBvC,EAASyC,EAAgB,IAGzBV,EAAS,GAAQQ,EACjBvC,EAASyC,EAAgB,GAG1BlD,KAAKY,SAAS,CAAC4B,MAAOA,EAAO/B,OAAQA,IACrC2C,QAAQC,IAAI,gDAGFnB,EAAKC,GAAI,IAETmB,EAFSC,EAAAvD,KAKfwD,EAAUC,uCAAqBvB,EAAM,QAAUC,GAFnDmB,EAAQ,IAAII,gBAGNC,mBAAqB,WAC1B,GAAwB,IAArBL,EAAMM,YAAqC,MAAjBN,EAAMO,OAAgB,CAClD,IAAIC,EAAOR,EAAMS,aACjBR,EAAK3D,MAAMoE,OAAOF,KAGpBR,EAAMW,KAAK,MAAOT,GAAS,GAC3BF,EAAMY,wCASG,IAAAC,EAAAnE,KAEP,OAEEa,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYC,MAAO,CAACR,OAAUT,KAAKO,MAAME,OAAQ+B,MAASxC,KAAKO,MAAMiC,QAClF3B,EAAAC,EAAAC,cAACqD,EAAAtD,EAAD,CACEuD,iBAAkB,CAAEC,IAAK,2CACzBC,cAAevE,KAAKO,MAAM+B,OAC1BkC,YAAaxE,KAAKO,MAAMgC,KACxBkC,QAAS,SAACC,GAAD,OAAOP,EAAKrC,SAAS4C,IACpC1D,UAAU,iBACX2D,aAAc,SAACD,GAAD,OAAOP,EAAKrC,SAAS4C,cAlFdvD,aA0FlByD,cAEL,SAAAA,EAAYhF,GAAO,IAAAiF,EAAA,OAAA/E,OAAAC,EAAA,EAAAD,CAAAE,KAAA4E,IAClBC,EAAA/E,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8E,GAAAzE,KAAAH,KAAMJ,KAmCPkF,gBAAkB,SAAAC,GACjB,IAAIC,EAAOC,KAAKC,MAAMH,GACtBF,EAAKjE,SAAS,CAACuE,YAAcH,IAC7BH,EAAKO,qBArCLP,EAAKtE,MAAQ,CACZ4E,YAAa,CACZ5D,QAAS,EACTC,OAAQ,EACRC,MAAO,EACPC,QAAS,EACTC,MAAO,GAER0D,SAAU,OAGXR,EAAKC,gBAAgBzE,KAArBP,OAAAQ,EAAA,EAAAR,CAAA+E,IAEAA,EAAKtE,MAAM4E,YAAc,CACxB5D,QAAS,EACTC,OAAQ,EACRC,MAAO,EACPC,QAAS,EACTC,MAAO,GAERkD,EAAKtE,MAAMG,cAAgB,EAtBTmE,mFA0BlB,IAAInE,EAAgB,EACpBA,GAAiBV,KAAKO,MAAM4E,YAAY5D,QACxCb,GAAiD,GAAhCV,KAAKO,MAAM4E,YAAY3D,OACxCd,GAAgD,GAA/BV,KAAKO,MAAM4E,YAAY1D,MACxCf,GAAiBV,KAAKO,MAAM4E,YAAYzD,QACxChB,GAAgD,GAA/BV,KAAKO,MAAM4E,YAAYxD,MACxCjB,EAAgB4E,SAAS5E,EAAgB,KACzCV,KAAKY,SAASF,cAAgBA,mCAU9B,OACCG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAWH,EAAAC,EAAAC,cAACK,EAAD,OAC1BP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACdH,EAAAC,EAAAC,cAACM,EAAD,CAAWC,EAAGtB,KAAKO,MAAM4E,eAE1BtE,EAAAC,EAAAC,cAACpB,EAAD,CAAae,cAAeV,KAAKO,MAAMG,kBAGzCG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACdH,EAAAC,EAAAC,cAACa,EAAD,CAAWoC,OAAQhE,KAAK8E,kBACxBjE,EAAAC,EAAAC,cAAA,SAAOwE,KAAK,OAAOC,YAAY,oBAAoBxE,UAAU,uBA1D1CG,aAiExBsE,IAASC,OAAQ7E,EAAAC,EAAAC,cAAC6D,EAAD,MAAee,SAASC,eAAe","file":"static/js/main.8e382468.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport './index.css';\n\nclass Thermometer extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.change_filling = this.change_filling.bind(this);\n\t\tthis.state = {\n\t\t\tmarginTop: 0,\n\t\t\theight: 0\n\t\t}\n\t}\n\n\tchange_filling(){\n\t\tlet danger_rating = this.props.danger_rating;\n\t\tlet height_offset = 100 - danger_rating;\n\t\tlet stylez = {\n\t\t\tmarginTop: height_offset,\n\t\t\theight: danger_rating\n\t\t}\n\t\tthis.setState(stylez);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"thermometer\">\n\t\t\t\t<div style={{\"height\": this.state.height, \"margin-top\": this.state.marginTop }} className=\"filling\"/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Watchout extends Component {\n\n\trender(){\n\t\treturn <h1>Watchout!</h1>\n\t}\n}\n\nclass DataView extends Component {out\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"data_items\">\n\t\t\t\t<div className=\"left_items\">\n\t\t\t\t\t<p>Assault: {this.props.d.assault}</p>\n\t\t\t\t\t<p>Murder: {this.props.d.murder}</p>\n\t\t\t\t\t<p>Theft: {this.props.d.theft}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right_items\">\n\t\t\t\t\t<p>Robbery: {this.props.d.robbery}</p>\n\t\t\t\t\t<p>Other: {this.props.d.other}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nclass SimpleMap extends Component {\n\n\tconstructor(props){ \n\t\tsuper(props);\n\t\tthis.state = {\n             center: {\n              lat: 34.115784,\n              lng: -117.302399\n            },\n            zoom: 11,\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tf : null\n\t\t};\n\t\tthis.updateSizes = this.updateSizes.bind(this);\n\t\tthis.wrapper = this.wrapper.bind(this);\n\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.wrapper();\n\t\twindow.addEventListener(\"resize\", this.wrapper);\n\n\t}\n\n\n\twrapper(){\n\t\twindow.clearTimeout(this.f);\n\t\tthis.f = window.setTimeout(this.updateSizes, 200);\n\t}\n\n\tupdateSizes(){\n\t\tlet window_width = window.innerWidth;\n\t\tlet window_height = window.innerHeight;\n\t\tlet width;\n\t\tlet height;\n\t\tif (window_width > 480){\n\t\t\twidth = window_width / 2;\n\t\t\theight = window_height / 2;\n\t\t}\n\t\telse{\n\t\t\twidth = (9/10) * window_width;\n\t\t\theight = window_height / 2;\n\t\t}\n\n\t\tthis.setState({width: width, height: height});\n\t\tconsole.log(\"am i working\");\n\t}\n\n    getData(lat, lng){\n\n        let xhttp;\n\t\txhttp = new XMLHttpRequest();\n        let base_url = \"https://www.ericdiaz.dev/single\";\n\t\tlet req_url = base_url + \"?lat=\" + lat + \"&lon=\" + lng;\n\t\txhttp.onreadystatechange = () => {\n\t\t\tif(xhttp.readyState === 4 && xhttp.status === 200) {\n\t\t\t\tlet resp = xhttp.responseText;\n\t\t\t\tthis.props.update(resp)\n\t\t\t}\n    \t};\n\t\txhttp.open(\"GET\", req_url, true);\n\t\txhttp.send();\n\n    }\n\n    _onClick = ({x, y, lat, lng, event}) => this.getData(lat,lng);\n\n\n\n\n  render() {\n  \t\n    return (\n      // Important! Always set the container height explicitly\n      <div className=\"react_map\" style={{\"height\": this.state.height, \"width\": this.state.width}}>\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: \"AIzaSyBqHAyz7qbZeKCF_aKujnK0SKff8Pb0s1A\" }}\n          defaultCenter={this.state.center}\n          defaultZoom={this.state.zoom}\n          onClick={(e) => this._onClick(e)}\n\t\t  className=\"maps_container\"\n\t  onTouchStart={(e) => this._onClick(e)}\n\t>\n        </GoogleMapReact>\n      </div>\n    );\n  }\n}\n\nclass Container extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcrime_stats: {\n\t\t\t\tassault: 0,\n\t\t\t\tmurder: 0,\n\t\t\t\ttheft: 0,\n\t\t\t\trobbery: 0,\n\t\t\t\tother: 0\n\t\t\t},\n\t\t\tside_div: \"20%\"\n\t\t};\n\n\t\tthis.update_dataview.bind(this);\n\n\t\tthis.state.crime_stats = {\n\t\t\tassault: 0,\n\t\t\tmurder: 0,\n\t\t\ttheft: 0,\n\t\t\trobbery: 0,\n\t\t\tother: 0\n\t\t};\n\t\tthis.state.danger_rating = 0;\n\t}\n\n\tcalc_dangerrating(){\n\t\tlet danger_rating = 0;\n\t\tdanger_rating += this.state.crime_stats.assault;\n\t\tdanger_rating += this.state.crime_stats.murder * 20;\n\t\tdanger_rating += this.state.crime_stats.theft * .5;\n\t\tdanger_rating += this.state.crime_stats.robbery;\n\t\tdanger_rating += this.state.crime_stats.other * .5;\n\t\tdanger_rating = parseInt(danger_rating / 1000);\n\t\tthis.setState.danger_rating = danger_rating;\n\t}\n\n\tupdate_dataview = crime_set => {\n\t\tlet data = JSON.parse(crime_set);\n\t\tthis.setState({crime_stats : data});\n\t\tthis.calc_dangerrating();\n\t};\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"master_container\">\n\t\t\t\t<div className=\"watchout\"><Watchout /></div>\n\t\t\t\t<div className=\"that_div\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t\t<DataView  d={this.state.crime_stats} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Thermometer danger_rating={this.state.danger_rating}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"maps_container\">\n\t\t\t\t\t<SimpleMap update={this.update_dataview} />\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter an address!\" className=\"input_box\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nReactDOM.render( <Container />, document.getElementById(\"root\"));\n"],"sourceRoot":""}